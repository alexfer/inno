<aside id="sidebar" class="h-screen relative z-20">
    <button type="button" class="opacity-100 md:opacity-0 absolute -start-3 px-5 py-3 top-2 z-10 cursor-pointer border border-l-0 rounded-lg shadow-md bg-white dark:bg-gray-700 nav-open" aria-label="Open">
        <svg class="h-5 w-5 text-gray-500 dark:text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
             stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z"/>
            <circle cx="14" cy="6" r="2"/>
            <line x1="4" y1="6" x2="12" y2="6"/>
            <line x1="16" y1="6" x2="20" y2="6"/>
            <circle cx="8" cy="12" r="2"/>
            <line x1="4" y1="12" x2="6" y2="12"/>
            <line x1="10" y1="12" x2="20" y2="12"/>
            <circle cx="17" cy="18" r="2"/>
            <line x1="4" y1="18" x2="15" y2="18"/>
            <line x1="19" y1="18" x2="20" y2="18"/>
        </svg>
    </button>
    <div class="fixed hidden md:w-64 animate__animated opacity-90 md:opacity-100 md:block md:relative z-30 md:h-full p-3 overflow-y-auto bg-white md:bg-gray-50 border md:border-0 shadow-xl md:shadow dark:bg-gray-800 rounded-lg">
        <ul class="space-y-2 font-medium">
            <li>
                <button type="button" class="md:hidden cabinet-sidebar-item rotate-180 cursor-pointer nav-close">
                    <svg class="h-5 w-5 text-gray-500 dark:text-white rotate-0" width="24" height="24"
                         viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor"
                         fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z"/>
                        <circle cx="12" cy="12" r="9"/>
                        <line x1="16" y1="12" x2="8" y2="12"/>
                        <line x1="16" y1="12" x2="12" y2="16"/>
                        <line x1="16" y1="12" x2="12" y2="8"/>
                    </svg>
                </button>
            </li>
            <li>
                <a class="cabinet-sidebar-item {{ _route == 'app_cabinet' ? 'bg-white dark:bg-gray-700' : '' }}"
                   href="{{ path('app_cabinet') }}">
                    <svg class="w-5 h-5 {{ _route == 'app_cabinet' ? 'text-red-500' : '' }}" aria-hidden="true"
                         xmlns="http://www.w3.org/2000/svg"
                         width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M10 3v4a1 1 0 0 1-1 1H5m8-2h3m-3 3h3m-4 3v6m4-3H8M19 4v16a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7.914a1 1 0 0 1 .293-.707l3.914-3.914A1 1 0 0 1 9.914 3H18a1 1 0 0 1 1 1ZM8 12v6h8v-6H8Z"></path>
                    </svg>
                    <span class="hidden md:inline-flex ms-3">{{ 'customer.cabinet.orders'|trans }}</span>
                </a>
            </li>
            <li>
                <a class="cabinet-sidebar-item {{ _route == 'app_cabinet_wishlist' ? 'bg-white dark:bg-gray-700' : '' }}"
                   href="{{ path('app_cabinet_wishlist') }}">
                    <svg class="w-5 h-5 {{ _route == 'app_cabinet_wishlist' ? 'fill-red-500 text-red-500' : '' }}"
                         aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                         width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"></path>
                    </svg>
                    <span class="hidden md:inline-flex ms-3">{{ 'customer.cabinet.wishlist'|trans }}</span>
                </a>
            </li>
            <li>
                <a class="relative cabinet-sidebar-item {{ _route == 'app_cabinet_messages' ? 'bg-white dark:bg-gray-700' : '' }}"
                   href="{{ path('app_cabinet_messages') }}">
                    <svg class="w-5 h-5 {{ _route == 'app_cabinet_messages' ? 'fill-red-500 text-red-500' : '' }}"
                         aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                         width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd"
                              d="M4 3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h1v2a1 1 0 0 0 1.707.707L9.414 13H15a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4Z"
                              clip-rule="evenodd"></path>
                        <path fill-rule="evenodd"
                              d="M8.023 17.215c.033-.03.066-.062.098-.094L10.243 15H15a3 3 0 0 0 3-3V8h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-1v2a1 1 0 0 1-1.707.707L14.586 18H9a1 1 0 0 1-.977-.785Z"
                              clip-rule="evenodd"></path>
                    </svg>
                    <span class="hidden md:inline-flex ms-3">{{ 'customer.cabinet.messages'|trans }}</span>
                    {% set counter = msg.cabinet(app.user.id) %}
                    <div id="hub"
                         class="absolute{{ counter.messages > 0 ? ' animate-blinking' : '' }} w-5 h-5 text-xs font-medium text-white bg-red-500 border-2 border-white rounded-full -top-2 end-0 dark:border-gray-900">{{ counter.messages }}</div>
                </a>
            </li>
            <li>
                <a class="cabinet-sidebar-item {{ _route == 'app_cabinet_personal_information' ? 'bg-white dark:bg-gray-700' : '' }}"
                   href="{{ path('app_cabinet_personal_information') }}">
                    <svg class="w-6 h-6 {{ _route == 'app_cabinet_personal_information' ? 'fill-red-500 text-red-500' : '' }}"
                         aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                         width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="square" stroke-linejoin="round" stroke-width="2"
                              d="M10 19H5a1 1 0 0 1-1-1v-1a3 3 0 0 1 3-3h2m10 1a3 3 0 0 1-3 3m3-3a3 3 0 0 0-3-3m3 3h1m-4 3a3 3 0 0 1-3-3m3 3v1m-3-4a3 3 0 0 1 3-3m-3 3h-1m4-3v-1m-2.121 1.879-.707-.707m5.656 5.656-.707-.707m-4.242 0-.707.707m5.656-5.656-.707.707M12 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path>
                    </svg>
                    <span class="hidden md:inline-flex ms-3">{{ 'customer.cabinet.personal_information'|trans }}</span>
                </a>
            </li>
            <li>
                <a class="cabinet-sidebar-item {{ _route == 'app_cabinet_secure' ? 'bg-white dark:bg-gray-700' : '' }}"
                   href="{{ path('app_cabinet_secure') }}">
                    <svg class="w-6 h-6 {{ _route == 'app_cabinet_secure' ? 'fill-red-500 text-gray-200 dark:text-gray-600' : '' }}"
                         aria-hidden="true" viewBox="0 0 24 24" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <g stroke-width="0"></g>
                        <g stroke-linecap="round" stroke-linejoin="round"></g>
                        <g>
                            <path d="M21 8.5V6C21 4.89543 20.1046 4 19 4H5C3.89543 4 3 4.89543 3 6V11C3 12.1046 3.89543 13 5 13H10.875M19 14V12C19 10.8954 18.1046 10 17 10C15.8954 10 15 10.8954 15 12V14M14 20H20C20.5523 20 21 19.5523 21 19V15C21 14.4477 20.5523 14 20 14H14C13.4477 14 13 14.4477 13 15V19C13 19.5523 13.4477 20 14 20Z"
                                  stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                  stroke-linejoin="round"></path>
                            <circle cx="7.5" cy="8.5" r="1.5" fill="currentColor"></circle>
                            <circle cx="12" cy="8.5" r="1.5" fill="currentColor"></circle>
                        </g>
                    </svg>
                    <span class="hidden md:inline-flex ms-3">{{ 'customer.cabinet.password'|trans }}</span>
                </a>
            </li>
            <li>
                <a class="cabinet-sidebar-item {{ _route == 'app_cabinet_address' ? 'bg-white dark:bg-gray-700' : '' }}"
                   href="{{ path('app_cabinet_address') }}">
                    <svg class="w-5 h-5 {{ _route == 'app_cabinet_address' ? 'fill-red-500 text-gray-200 dark:text-gray-600' : '' }}"
                         aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                         width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M7 6H5m2 3H5m2 3H5m2 3H5m2 3H5m11-1a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2M7 3h11a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Zm8 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"></path>
                    </svg>
                    <span class="hidden md:inline-flex ms-3">{{ 'title.address'|trans }}</span>
                </a>
            </li>
            <li>
                <a class="cabinet-sidebar-item"
                   href="{{ path('app_logout') }}">
                    <svg class="w-5 h-5 text-gray-800 dark:text-white" aria-hidden="true"
                         xmlns="http://www.w3.org/2000/svg"
                         width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 14v3m-3-6V7a3 3 0 1 1 6 0v4m-8 0h10a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1Z"></path>
                    </svg>
                    <span class="hidden md:inline-flex ms-3">{{ 'title.user.logoff'|trans }}</span>
                </a>
            </li>
        </ul>
    </div>
</aside>
{% block javascripts %}
    <script type="text/javascript">
        const navClose = document.querySelector('.nav-close');
        const navOpen = document.querySelector('.nav-open');
        const sideBar =  document.getElementById('sidebar');

        navClose.addEventListener('click', () => {
            sideBar.children[1].classList.toggle('hidden');
            navOpen.classList.toggle('hidden');
        });

        navOpen.addEventListener('click', () => {
            sideBar.children[1].classList.toggle('hidden');
            navOpen.classList.toggle('hidden');
        });
    </script>
{% endblock %}